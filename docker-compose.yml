services:
  api:
    build:
      context: ./api
      dockerfile: Dockerfile
    container_name: chat-db-api
    env_file: ./api/.env
    volumes:
      # Mount source code for hot-reload in development
      - ./api:/app
      - sqlite_data:/app/data
    ports:
      - "${PORT:-5000}:${PORT:-5000}"
    restart: unless-stopped

volumes:
  sqlite_data:
